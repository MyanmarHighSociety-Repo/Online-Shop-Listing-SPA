<a>
    <img src="./assets/images1/Asset 28.svg" alt="Previous Arrow Button" id="prev_arrow" (click)="back()">
</a>
<div id="line1"></div>
<div class="container-fluid">
    <div class="row mt-4 align">
        <div class="col-10 col-sm-10">
            <h1 class="head-color"> မိမိ Shop တင်မည်</h1>
        </div>
        <!-- <div class="col-2 col-sm-2 text-right">
            <span class="head-page">1 / 2</span>
        </div> -->
    </div>
    <div class="row mt-3 text-center">
        <div class="col-12 col-sm-12">
            <label style="cursor: pointer;" *ngIf="!shopImgFile">
                <img src="./assets/shop-add-images/Asset 41.svg" id="shopprofile" width="120" height="120"
                    style="object-fit: cover;">
                <input #file type="file" accept='image/*' id="file" (change)="onShopImageSelected(file.files)"
                    style="display: none;" name="image"/>
            </label>
            <div style="color:red;" *ngIf="message">{{shopImageMessage}}</div>
            <div>
                <img [src]="localImageUrl" *ngIf="localImageUrl" id="shopprofile" width="120" height="120"
                    style="object-fit: cover;">
            </div>
        </div>
    </div>
    <div class="row mt-3 align">
        <div class="col-sm-12 mt-3">
            <label for="name"  class="f-13 mb-3">
                ဆိုင်အကြောင်း
            </label>
            <input type="text" name="name" [(ngModel)]="shop.name" class="form-control form-control-lg"
            id="input-height" placeholder="ဆိုင်အမည်">
        </div>
    </div>
    <div class="row mt-3 align">
        <div class="col-sm-12 select">
            <button type="button" class="" id="btn-select" (click)="setDropdownStatus()"> 
                <span> <img class="selected-shop-type" src="{{selectedDropdownImg}}" /> </span>
                <span class="shop-type-span"> {{shopTypeDropdownPlaceholder}} </span> 
                <img style="margin-top: 10px!important;" src="./assets/shop-add-images/Asset 44.svg" /> 
            </button>
            <ul id="vodiapicker" *ngIf="shopTypeDropdownClicked">
                <li *ngFor="let shopType of shopTypes" (click)="setSelectedShopType(shopType)">
                  <img src="{{shopType.iconUrl}}"><span> {{shopType.name}} </span>
                </li>
            </ul>
        </div>
    </div>
    <div class="row mt-3 align">
        <div class="col-sm-12 col-12">
            <input type="text" class="form-control  form-control-lg" id="input-height" 
                placeholder="ဆိုင်ဖုန်းနံပါတ်" [(ngModel)]="shop.phNo">
        </div>
    </div>
    <div class="row mt-3 align">
        <div class="col-sm-12 col-12">
            <textarea class="form-control pt-3" placeholder="ဆိုင်အကြောင်း အကျဉ်းချုပ်" id="text-height"
                [(ngModel)]="shop.description"></textarea>
        </div>
    </div>
    <div class="row mt-5 align">
        <div class="col-sm-12">
            <h3 class="f-15">ကြော်ငြာများ</h3>
            <p class="mt-3 para">*** ကြော်ငြာများကို အနည်းဆုံး ၁ ပုံမှစ၍ အများဆုံး ၁၀ ပုံအထိ တင်လို့ရပါသည်။</p>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
            <label style="cursor: pointer;" *ngIf="sleectedAdvertisementFiles.length == 0"
                (click)="openAdvertisementModal(advertisementTemplate)">
                <img src="./assets/shop-add-images/Asset 41.svg" id="shopImagefile" width="120" height="120"
                    style="object-fit: cover;">
            </label>
            <div style="color:red;" *ngIf="message">{{message}}</div>
            <div *ngIf="sleectedAdvertisementFiles.length > 0">
                <img *ngFor="let imgFile of sleectedAdvertisementFiles" [src]="imgFile.url" id="shopprofile" width="120"
                    height="120" style="object-fit: cover; margin-left: 5px;">
                <label style="cursor: pointer;" (click)="openAdvertisementModal(advertisementTemplate)">
                    <img src="./assets/shop-add-images/Asset 41.svg" id="shopImagefile" width="120" height="120"
                        style="object-fit: cover; margin-left: 5px;">
                </label>
            </div>
        </div>
    </div>
    <div class="row  mt-3 align">
        <div class="col-sm-12 col-12">
            <label for="" class="f-13 mt-1">Delivery မြို့နယ် နှင့် ဆိုင့်ဖွင့်ချိန်</label>
        </div>
    </div>
    <div class="row form-row mt-1 align">
        <div class="col-sm-6 col-6">
            <span><img class="arr" src="./assets/shop-add-images/Asset 44.svg" alt="" style="margin-left: 5px;"></span>
            <input type="text" class="form-control form-control-lg" 
                (click)="openCityModal(cityTemplate)"
                id="input-height"
                placeholder="{{cityPlaceholder}}" readonly>
        </div>
        <div class="col-sm-6 col-6">
            <span><img class="arr2 " src="./assets/shop-add-images/Asset 44.svg" alt=""
                    style="margin-left: 5px;"></span>
            <input type="text" class="form-control form-control-lg" 
                [ngClass]="{'disabled' : disabled}"
                (click)="openTownshipModal(townshipTemplate)"
                id="input-height"
                placeholder="{{townshipPlaceholder}}" readonly>
        </div>
    </div>
    <div class="form-row mt-3 align">
        <div class="col-sm-6 col-6">
            <span><img class="clock " src="./assets/shop-add-images/Asset 42.svg " alt=" "></span>
            <input [(ngModel)]="shop.deliveryFromTime" ngClockPicker 
            [ngClockPickerConfig]="config"
                class="form-control form-control-lg " id="input-height" placeholder="မှ " readonly/>
        </div>
        <div class="col-sm-6 col-6">
            <span><img class="clock1 " src="./assets/shop-add-images/Asset 42.svg " alt=" "></span>
            <input [(ngModel)]="shop.deliveryToTime" ngClockPicker 
                [ngClockPickerConfig]="config"
                class="form-control form-control-lg " id="input-height" placeholder="ထိ " readonly/>
        </div>
    </div>
    <div style="color:red;" *ngIf="error">{{error}}</div>
    <div class="row">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  mt-4 mb-3">
            <div class="btn-color">
                <button type="button" (click)="goToShopStepTwo()" class="btn btn-lg btn-block" style="height: 50px;">
                    <p class="text-white"> ဆက်သွားမည်</p>
                </button>
            </div>
        </div>
    </div>
</div>
<!--Modal -->
<ng-template #cityTemplate>
    <div class="modal-header">
        <h5 class="text-center " id="exampleModalLabel" style="margin-left: 30% !important;">မြို့ရွေးချယ်ပါ</h5>
        <button type="button" class="close" aria-label="Close" (click)="cancelCityModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="form-check mt-3">
            <input type="checkbox" name="check_list" class="form-check-input" [(ngModel)]="wholeCountry" 
                value="{{wholeCountry}}" id="checkAll" (click)="checkAllCities()">
            <label class="form-check-label" for="checkAll">
                တစ်နိုင်ငံလုံး
            </label>
        </div>
        <div *ngFor="let option of cityOptions">
            <div class="form-check mt-3">
                <input class="form-check-input" [(ngModel)]="option.selected" value="{{option.id}}" 
                    type="checkbox" id="{{option.value}}" (click)="checkForWholeCountry(option)">
                <label class="form-check-label" for="{{option.value}}">
                    {{option.value}}
                </label>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="container-fluid">
            <div class="row">
                <div class="row">
                    <div class="col-sm-6 col-6">
                        <button type="button" class="btn btn-lg btn-block" (click)="getSelectedCity()" 
                            id="white">ရွေးမည်</button>
                    </div>
                    <div class="col-sm-6 col-6 text-right">
                        <button type="button" (click)="cancelCityModal()" class="btn btn-lg cancelModal" >
                            မလုပ်တော့ပါ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #advertisementTemplate>
    <div class="modal-header">
        <h5 class="text-center" style="margin-left: 30% !important;">ကြော်ငြာတင်ရန်</h5>
        <button type="button" class="close" aria-label="Close" (click)="cancelAdvertisementModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <label style="cursor: pointer; width: 100%;" *ngIf="!imageUrl">
            <img src="./assets/shop-add-images/Asset 41.svg" id="shopImagefile" height="200" width="100%"
                style="object-fit: cover; padding-left: 14px; width: 95%;">
            <input #file type="file" accept='image/*' (change)="preview(file.files)" style="display: none;" />
        </label>
        <div style="color:red;" *ngIf="message">{{message}}</div>
        <div>
            <img [src]="imageUrl" *ngIf="imageUrl" id="shopprofile" height="200" width="100%"
                style="object-fit: cover; padding-left: 14px; width: 95%;">
        </div>
        <div class="col-sm-12 mt-1">
            <label for="name"  class="f-13 mb-3">
                ဆိုင်အကြောင်း
            </label>
            <textarea class="form-control pt-3" id="text-height"
                [(ngModel)]="caption"></textarea>
        </div>
    </div>
    <div class="modal-footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-6 col-sm-6">
                    <!-- <button type="button" class="btn " id="white">ရွေးမည်</button> -->
                    <button type="button" class="btn btn-lg btn-block" (click)="getAdvertisementData()" 
                        id="white">ရွေးမည်</button>
                </div>
                <div class="col-6 col-sm-6 text-right">
                    <button type="button" class="btn btn-lg cancelModal" (click)="cancelAdvertisementModal()" >
                        မလုပ်တော့ပါ
                    </button>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<!--Modal -->
<ng-template #townshipTemplate>
    <div class="modal-header">
        <h5 class="text-center" style="margin-left: 30% !important;">မြို့နယ်ရွေးချယ်ပါ</h5>
        <button type="button" class="close" aria-label="Close" (click)="cancelTownshipModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="form-check mt-3">      
            <input type="checkbox" name="check_list" class="form-check-input" 
                [(ngModel)]="wholeCity" value="{{wholeCity}}" id="checkAll" (click)="checkAllTownships()">
            <label class="form-check-label" for="checkAll">
                မြို့နယ်အားလုံး
            </label>
        </div>
        <div *ngFor="let option of townshipOptions">
            <div class="form-check mt-3">
                <input class="form-check-input" [(ngModel)]="option.selected" value="{{option.id}}" 
                    type="checkbox" id="{{option.value}}" (click)="checkForWholeCity(option)">
                <label class="form-check-label" for="{{option.value}}">
                    {{option.value}}
                </label>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-6 col-sm-6">
                    <button type="button" class="btn btn-lg btn-block" (click)="getSelectedTownship()" 
                        id="white">ရွေးမည်</button>
                </div>
                <div class="col-6 col-sm-6 text-right">
                    <button type="button" class="btn btn-lg cancelModal" (click)="cancelTownshipModal()" >
                        မလုပ်တော့ပါ
                    </button>
                </div>
            </div>
        </div>
    </div>
</ng-template>