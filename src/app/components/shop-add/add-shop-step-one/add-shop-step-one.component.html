<section>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <h5 class="mt-3 head-color"> မိမိ Shop တင်မည်</h5>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"></div>
            <div class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 pr-5">
                <label style="cursor: pointer;" *ngIf="!shopImgFile" >
                    <img src="./assets/shop-add-images/Asset 41.svg" id="shopImagefile" 
                        width="120" height="120" style="object-fit: cover;">
                    <input #file type="file" accept='image/*' (change)="onShopImageSelected(file.files)" style="display: none;" />
                </label>
                <div style="color:red;" *ngIf="message">{{shopImageMessage}}</div>
                <div>
                    <img [src]="localImageUrl" *ngIf="localImageUrl" id="shopprofile" width="120" height="120" style="object-fit: cover;">
                </div>
            </div>
            <div class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"></div>
        </div>
        <div class="row mt-3">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3">
                <label for="name"><p class="gray-text">ဆိုင်အကြောင်း</p></label>
                <input type="text" name="name" [(ngModel)]="shop.name" class="form-control text-input" placeholder="ဆိုင်အမည်">
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <select class="form-control text-input" (change)="onShopTypeChange($event.target.value);" style="height: fit-content;">
                    <option><p>ဆိုင်အမျိုးအစား‌ရွေးချယ်ရန်</p></option>
                    <option [value]="shopType.id" *ngFor="let shopType of shopTypes">
                    <img class="ml-1 food-type" src="{{shopType.iconUrl}}" alt=""><span class="m-3 f-13">{{shopType.name}}</span>
                    </option>
                </select>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <input type="text" class="form-control text-input" placeholder="ဆိုင်ဖုန်းနံပါတ်" [(ngModel)]="shop.phNo">
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <textarea class="form-control pt-3" placeholder="ဆိုင်အကြောင်း အကျဉ်းချုပ်" id="text-height" [(ngModel)]="shop.description"></textarea>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <p>ကြော်ငြာများ</p>
                <p class="mt-3 text-pink">*** ကြော်ငြာများကို အနည်းဆုံး ၁ ပုံမှစ၍ အများဆုံး ၁၀ ပုံအထိ တင်လို့ရပါသည်။</p>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <label style="cursor: pointer;" *ngIf="sleectedAdvertisementFiles.length == 0" 
                    (click)="openAdvertisementModal(advertisementTemplate)">
                    <img src="./assets/shop-add-images/Asset 41.svg" id="shopImagefile" 
                        width="120" height="120" style="object-fit: cover;">
                </label>
                <div style="color:red;" *ngIf="message">{{message}}</div>
                <div *ngIf="sleectedAdvertisementFiles.length > 0">
                    <img *ngFor="let imgFile of sleectedAdvertisementFiles" [src]="imgFile.url"  id="shopprofile" 
                        width="120" height="120" style="object-fit: cover; margin-left: 5px;">
                    <label style="cursor: pointer;" (click)="openAdvertisementModal(advertisementTemplate)">
                        <img src="./assets/shop-add-images/Asset 41.svg" id="shopImagefile" width="120" 
                            height="120" style="object-fit: cover; margin-left: 5px;">
                    </label>
                </div>
            </div>
        </div>
        <div class="row  mt-3">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <label for="" class="f-13 mt-1">Delivery မြို့နယ် နှင့် ဆိုင့်ဖွင့်ချိန်</label>
            </div>
        </div>
        <div class="row form-row mt-1">
            <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                <span><img class="arr" src="./assets/shop-add-images/Asset 44.svg" alt="" style="margin-left: 5px;"></span>
                <input type="text" class="form-control input-height" (click)="openCityModal(cityTemplate)" 
                    placeholder="{{cityPlaceholder}}" readonly>
            </div>
            <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                <span><img class="arr2 " src="./assets/shop-add-images/Asset 44.svg" alt="" style="margin-left: 5px;"></span>
                <input type="text" class="form-control input-height" (click)="openTownshipModal(townshipTemplate)" 
                    placeholder="{{townshipPlaceholder}}" readonly>
            </div>
        </div>
        <div class="row form-row mt-3">
            <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                <span><img class="clock" src="./assets/shop-add-images/Asset 42.svg" alt=""></span>
                <input type="text" class="form-control input-height" placeholder="မှ" [(ngModel)]="shop.deliveryFromTime">
            </div>
            <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
                <span><img class="clock1" src="./assets/shop-add-images/Asset 42.svg" alt=""></span>
                <input type="text" class="form-control input-height" placeholder="ထိ" [(ngModel)]="shop.deliveryToTime">
            </div>
        </div>
        <div style="color:red;" *ngIf="error">{{error}}</div>
        <div class="row">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12  mt-4 mb-3">
                <div class="btn-color">
                    <button type="button" (click)="goToShopStepTwo()" class="btn btn-lg btn-block" style="height: 50px;">
                    <p class="text-white"> ဆက်သွားမည်</p> </button>
                </div>
            </div>
        </div>
    </div>
</section>
<!--Modal -->
<ng-template #cityTemplate>
    <div class="modal-header">
        <h4 class="text-center" id="exampleModalLabel" style="margin-left: 30% !important;">မြို့ရွေးချယ်ပါ</h4>
        <button type="button" class="close" aria-label="Close" (click)="cancelCityModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div *ngFor="let option of cityOptions">
            <div class="form-check mt-3">
                <input class="form-check-input" [(ngModel)]="option.selected" value="{{option.id}}" 
                    type="checkbox"  id="gridCheck1">
                <label class="form-check-label" for="gridCheck1">
                    {{option.value}}
                </label>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-6 btn-color">
                    <!--<button type="button" class="btn " id="white">ရွေးမည်</button>  -->
                    <button type="button" (click)="getSelectedCity()" class="btn btn-lg btn-block" id="white">ရွေးမည်</button>
                </div>
                <div class="col-sm-6 ml-auto">
                    <button type="button" (click)="cancelCityModal()" class="btn btn-lg" data-dismiss="modal">မလုပ်တော့ပါ</button>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #advertisementTemplate>
    <div class="modal-header">
        <h4 class="text-center" id="exampleModalLabel" style="margin-left: 26% !important;">ကြော်ငြာတင်ရန်</h4>
        <button type="button" class="close" aria-label="Close" (click)="cancelAdvertisementModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <label style="cursor: pointer; width: 100%;" *ngIf="!imageUrl">
            <img src="./assets/shop-add-images/Asset 41.svg" id="shopImagefile" height="200" width="100%" style="object-fit: cover;">
            <input #file type="file" accept='image/*' (change)="preview(file.files)" style="display: none;" />
        </label>
        <div style="color:red;" *ngIf="message">{{message}}</div>
        <div>
            <img [src]="imageUrl" *ngIf="imageUrl" id="shopprofile" height="200" width="100%" style="object-fit: cover;">
        </div>
        <br /><br />
        <label for="name"><p class="gray-text">ဆိုင်အကြောင်း</p></label>
        <textarea [(ngModel)]="caption" class="form-control pt-3" style="height: 100px;" id="text-height"></textarea>
    </div>
    <div class="modal-footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-6 btn-color">
                    <!--<button type="button" class="btn " id="white">ရွေးမည်</button>  -->
                    <button type="button" (click)="getAdvertisementData()" class="btn btn-lg btn-block" id="white">ရွေးမည်</button>
                </div>
                <div class="col-sm-6 ml-auto">
                    <button type="button" (click)="cancelAdvertisementModal()" class="btn btn-lg" data-dismiss="modal">မလုပ်တော့ပါ</button>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<!--Modal -->
<ng-template #townshipTemplate>
    <div class="modal-header">
        <h4 class="text-center" id="exampleModalLabel" style="margin-left: 30% !important;">မြို့နယ်ရွေးချယ်ပါ</h4>
        <button type="button" class="close" aria-label="Close" (click)="cancelTownshipModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div *ngFor="let option of townshipOptions">
            <div class="form-check mt-3">
                <input class="form-check-input" [(ngModel)]="option.selected" value="{{option.id}}" 
                    type="checkbox"  id="gridCheck1">
                <label class="form-check-label" for="gridCheck1">
                    {{option.value}}
                </label>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-6 btn-color">
                    <button type="button" (click)="getSelectedTownship()" class="btn btn-lg btn-block" id="white">ရွေးမည်</button>
                </div>
                <div class="col-sm-6 ml-auto">
                    <button type="button" (click)="cancelTownshipModal()" class="btn btn-lg" data-dismiss="modal">မလုပ်တော့ပါ</button>
                </div>
            </div>
        </div>
    </div>
</ng-template>
    
